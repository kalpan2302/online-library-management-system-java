<h2 class="text-2xl font-semibold mb-6 text-gray-800">Welcome, {{ username }}</h2>

<div class="flex flex-wrap gap-4 mb-8">
  <button (click)="loadAllBooks()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Manage Books</button>
  <button (click)="loadUsers()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Manage Users</button>
  <button (click)="loadAuthors()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Manage Authors</button>
  <button (click)="loadCategories()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Manage Categories</button>
  <button (click)="loadIssuedBooks()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Issued Books</button>
  <button (click)="loadOverdueBooks()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Overdue Books</button>
</div>

<!-- Manage Books Section -->
<div *ngIf="currentSection === 'books'">
  <h3 class="text-xl font-semibold mb-4 text-gray-700">Manage Books</h3>
  <button (click)="addBook()" class="mb-4 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition">Add Book</button>

  <div class="overflow-x-auto">
    <table class="min-w-full bg-white border border-gray-300 shadow-sm rounded-lg">
      <thead class="bg-gray-100 text-gray-700">
        <tr>
          <th class="px-4 py-2 border">Book ID</th>
          <th class="px-4 py-2 border">Title</th>
          <th class="px-4 py-2 border">Author</th>
          <th class="px-4 py-2 border">Category</th>
          <th class="px-4 py-2 border">Total Copies</th>
          <th class="px-4 py-2 border">Available Copies</th>
          <th class="px-4 py-2 border">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let book of books" class="hover:bg-gray-50">
          <td class="px-4 py-2 border">{{ book.book_id }}</td>
          <td class="px-4 py-2 border">{{ book.title }}</td>
          <td class="px-4 py-2 border">{{ book.author }}</td>
          <td class="px-4 py-2 border">{{ book.category }}</td>
          <td class="px-4 py-2 border">{{ book.totalCopies }}</td>
          <td class="px-4 py-2 border">{{ book.availableCopies }}</td>
          <td class="px-4 py-2 border space-x-2">
            <button (click)="editBook(book)" class="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 transition">Edit</button>
            <button (click)="deleteBook(book.book_id)" class="bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Manage Users Section -->
<div *ngIf="currentSection === 'users'">
  <h3 class="text-xl font-semibold mb-4 text-gray-700">Manage Users</h3>
  <div class="overflow-x-auto">
    <table class="min-w-full bg-white border border-gray-300 shadow-sm rounded-lg">
      <thead class="bg-gray-100 text-gray-700">
        <tr>
          <th class="px-4 py-2 border">Name</th>
          <th class="px-4 py-2 border">Email</th>
          <th class="px-4 py-2 border">Contact</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users" class="hover:bg-gray-50">
          <td class="px-4 py-2 border">{{ user.name }}</td>
          <td class="px-4 py-2 border">{{ user.email }}</td>
          <td class="px-4 py-2 border">{{ user.contact }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Manage Authors Section -->
<div *ngIf="currentSection === 'authors'">
  <h3 class="text-xl font-semibold mb-4 text-gray-700">Manage Authors</h3>
  <button (click)="addAuthor()" class="mb-4 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition">Add Author</button>
  <div class="overflow-x-auto">
    <table class="min-w-full bg-white border border-gray-300 shadow-sm rounded-lg">
      <thead class="bg-gray-100 text-gray-700">
        <tr>
          <th class="px-4 py-2 border">Author Name</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let author of authors" class="hover:bg-gray-50">
          <td class="px-4 py-2 border">{{ author }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Manage Categories Section -->
<div *ngIf="currentSection === 'categories'">
  <h3 class="text-xl font-semibold mb-4 text-gray-700">Manage Categories</h3>
  <button (click)="addCategory()" class="mb-4 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition">Add Category</button>
  <div class="overflow-x-auto">
    <table class="min-w-full bg-white border border-gray-300 shadow-sm rounded-lg">
      <thead class="bg-gray-100 text-gray-700">
        <tr>
          <th class="px-4 py-2 border">Category Name</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let category of categories" class="hover:bg-gray-50">
          <td class="px-4 py-2 border">{{ category }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Issued Books Section -->
<div *ngIf="currentSection === 'issued'">
  <h3 class="text-xl font-semibold mb-4 text-gray-700">Issued Books</h3>
  <div class="overflow-x-auto">
    <table class="min-w-full bg-white border border-gray-300 shadow-sm rounded-lg">
      <thead class="bg-gray-100 text-gray-700">
        <tr>
          <th class="px-4 py-2 border">User ID</th>
          <th class="px-4 py-2 border">Username</th>
          <th class="px-4 py-2 border">Book Name</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let issue of issuedBooks" class="hover:bg-gray-50">
          <td class="px-4 py-2 border">{{ issue.userId }}</td>
          <td class="px-4 py-2 border">{{ issue.username }}</td>
          <td class="px-4 py-2 border">{{ issue.bookName }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Overdue Books Section -->
<div *ngIf="currentSection === 'overdue'">
  <h3 class="text-xl font-semibold mb-4 text-gray-700">Overdue Books</h3>
  <div class="overflow-x-auto">
    <table class="min-w-full bg-white border border-gray-300 shadow-sm rounded-lg">
      <thead class="bg-gray-100 text-gray-700">
        <tr>
          <th class="px-4 py-2 border">User ID</th>
          <th class="px-4 py-2 border">Username</th>
          <th class="px-4 py-2 border">Contact</th>
          <th class="px-4 py-2 border">Not Returned Book</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let overdue of overdueBooks" class="hover:bg-gray-50">
          <td class="px-4 py-2 border">{{ overdue.userId }}</td>
          <td class="px-4 py-2 border">{{ overdue.username }}</td>
          <td class="px-4 py-2 border">{{ overdue.contact }}</td>
          <td class="px-4 py-2 border">{{ overdue.bookName }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
